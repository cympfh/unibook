## DONE

- [x] toc のリンクを絶対パスに変更 (2025-12-21)
- [x] toc において chapter より上の階層 (part) を表現する (2025-12-21)
    - path を持たない pages エントリを part として扱う
    - part の見出しを toc 上で表示（リンクなし、太字、uppercase）
    - ページは生成されない
- [x] table の見た目を改善 (2025-12-21)
    - 罫線を追加
    - ヘッダー行/偶数行/奇数行で背景色を変更
    - color theme に応じて色を変更
- [x] メニュー (toc) の開閉ボタンを追加 (2025-12-21)
    - theme-switcher の左隣に配置
        - いまある theme-switcher を右にずらす
    - メニューの開閉状態に依らず表示される
    - デフォルトでは開いている状態
- [x] `<code>` にはワンクリックでコピーできるボタンを追加する (2025-12-22)
    - クリップボードにコピーする機能を実装
    - コピー成功/失敗のフィードバックを表示
    - ホバー時にコピーボタンが表示される
    - モバイルでは常時表示（透明度を下げて表示）
- [x] serve や watch で差分ビルドを実装 (2025-12-22)
    - 変更があったページだけビルドする
    - book.tomlが変更された場合はフルビルド
    - buildコマンドは常にフルビルド
- [x] Prism ハイライトがタイミングによって正しく動作しない問題を修正 (2025-12-22)
    - window load イベントの100ms後にPrism.highlightAll()を再実行
    - すべてのリソース（スクリプトを含む）がロードされた後に実行される

## DONE

- [x] base_path を book.toml で設定できるようにする (2025-12-22)
    - base_path = '/gnuplot-book' としたらリンク `a/b/c` が `/gnuplot-book/a/b/c` になる
    - base_pathが `/` で始まっていない場合は自動で追加
    - base_pathが `/` で終わっていない場合は自動で追加
    - 空文字列の場合は従来通り `/` から始まるパスになる

## TODO

- unidoc で失敗したら stderr をログに出力するようにする

## @CLAUDE

- ひとつ実装が完了したらドキュメントを更新する
    - Update TODO.md, CHANGELOG.md, README.md
